# Gear Freak í”„ë¡œì íŠ¸ Cursor Rules

## í”„ë¡œì íŠ¸ ì „ì²´ êµ¬ì¡° ê·œì¹™

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
lib/
â”œâ”€â”€ main.dart
â”œâ”€â”€ core/                    # ì „ì—­ ì„¤ì •
â”‚   â”œâ”€â”€ route/              # ë¼ìš°íŒ…
â”‚   â”œâ”€â”€ util/               # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ di/                 # ì˜ì¡´ì„± ì£¼ì…
â”‚   â”œâ”€â”€ constants/          # ìƒìˆ˜
â”‚   â””â”€â”€ theme/              # í…Œë§ˆ
â”‚
â”œâ”€â”€ shared/                  # ê³µí†µ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ widget/             # ê³µí†µ ìœ„ì ¯
â”‚   â”œâ”€â”€ service/            # ê³µí†µ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ domain/             # ê³µí†µ ë„ë©”ì¸
â”‚   â””â”€â”€ feature/            # ê³µí†µ ê¸°ëŠ¥ (ì˜ˆ: s3)
â”‚
â””â”€â”€ feature/                # Featureë³„ ëª¨ë“ˆ
    â”œâ”€â”€ auth/
    â”‚   â”œâ”€â”€ data/
    â”‚   â”œâ”€â”€ domain/
    â”‚   â””â”€â”€ presentation/
    â”‚       â”œâ”€â”€ page/       # ë¼ìš°íŒ… ë‹¨ìœ„ (screenë„ í—ˆìš©í•˜ì§€ë§Œ page ê¶Œì¥)
    â”‚       â”œâ”€â”€ view/       # ìƒíƒœë³„ UI (LoadingView, DataView, ErrorView)
    â”‚       â”œâ”€â”€ widget/     # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ„ì ¯ (componentì™€ widget êµ¬ë¶„í•˜ì§€ ì•ŠìŒ)
    â”‚       â”œâ”€â”€ provider/   # Provider/Notifier (ìƒíƒœ ê´€ë¦¬)
    â”‚       â””â”€â”€ util/       # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
    â”‚
    â”œâ”€â”€ product/
    â””â”€â”€ ...
```

### ë””ë ‰í† ë¦¬ ëª…ëª… ê·œì¹™

- **ëª¨ë“  ë””ë ‰í† ë¦¬ëŠ” ë‹¨ìˆ˜í˜•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤**
  - âœ… `route/`, `util/`, `widget/`, `service/`, `domain/`, `feature/`, `page/`
  - âŒ `routes/`, `utils/`, `widgets/`, `services/`, `domains/`, `features/`, `pages/`

- **ì˜ˆì™¸ ì‚¬í•­**: `constants/` (ì¼ë°˜ì ìœ¼ë¡œ ë³µìˆ˜í˜• ì‚¬ìš©)

## Presentation Layer êµ¬ì¡° ê·œì¹™

í”„ë¡œì íŠ¸ì˜ Presentation LayerëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤:

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
presentation/
â”œâ”€â”€ page/            # Page (ë¼ìš°íŒ… ë‹¨ìœ„, screenë„ í—ˆìš©)
â”œâ”€â”€ view/            # View (ìƒíƒœë³„ UI: LoadingView, DataView, ErrorView)
â”œâ”€â”€ widget/          # Widget (ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ„ì ¯, íŠ¹ì • í™”ë©´ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” ì‘ì€ ë‹¨ìœ„)
â”œâ”€â”€ provider/        # Provider/Notifier (ìƒíƒœ ê´€ë¦¬)
â””â”€â”€ util/            # Util (ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜)
```

### êµ¬ë¶„ ê¸°ì¤€

- **Page**: ë¼ìš°íŒ…ì´ ë˜ëŠ” í™”ë©´ ë‹¨ìœ„ (Route) - screenë„ í—ˆìš©í•˜ì§€ë§Œ pageë¥¼ ê¶Œì¥
- **View**: ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¥¸ ì¸í„°í˜ì´ìŠ¤ (error, loading, data ìƒíƒœë³„ UI)
- **Widget**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ„ì ¯ (íŠ¹ì • í™”ë©´ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” ì‘ì€ ë‹¨ìœ„, componentì™€ widget êµ¬ë¶„í•˜ì§€ ì•ŠìŒ)

### Shared í´ë” êµ¬ì¡°

```
shared/
â”œâ”€â”€ widget/          # ê³µí†µ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ìœ„ì ¯
â”‚   â”œâ”€â”€ gb_dialog.dart
â”‚   â”œâ”€â”€ gb_snackbar.dart
â”‚   â”œâ”€â”€ gb_text_form_field.dart
â”‚   â”œâ”€â”€ gb_error_view.dart
â”‚   â”œâ”€â”€ gb_empty_view.dart
â”‚   â””â”€â”€ gb_loading_view.dart
â”œâ”€â”€ service/         # ê³µí†µ ì„œë¹„ìŠ¤
â”œâ”€â”€ domain/          # ê³µí†µ ë„ë©”ì¸
â””â”€â”€ feature/         # ê³µí†µ ê¸°ëŠ¥
```

### ì˜ˆì‹œ

```dart
// Page: ë¼ìš°íŒ… ë‹¨ìœ„
class ProductDetailPage extends ConsumerStatefulWidget {
  @override
  Widget build(BuildContext context) {
    final state = ref.watch(productDetailNotifierProvider);
    return state.when(
      loading: () => ProductDetailLoadingView(),  // View
      data: (data) => ProductDetailView(model: data),  // View
      error: (error) => ProductDetailErrorView(...),  // View
    );
  }
}

// View: ìƒíƒœë³„ UI
class ProductDetailLoadingView extends StatelessWidget { ... }
class ProductDetailView extends StatelessWidget { ... }
class ProductDetailErrorView extends StatelessWidget { ... }

// Widget: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ„ì ¯ (componentì™€ widget êµ¬ë¶„í•˜ì§€ ì•ŠìŒ)
class ProductCardWidget extends StatelessWidget { ... }
class ProductBasicInfoSectionWidget extends StatelessWidget { ... }
```

## Dialog ì‚¬ìš© ê·œì¹™

- í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë‹¤ì´ì–¼ë¡œê·¸ëŠ” `GbDialog`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- `AlertDialog`ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ë§ê³ , `GbDialog.show()`ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
- `GbDialog`ëŠ” `lib/shared/widget/gb_dialog.dart`ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.

### ì‚¬ìš© ì˜ˆì‹œ

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©
final shouldDelete = await GbDialog.show(
  context: context,
  title: 'ìƒí’ˆ ì‚­ì œ',
  content: 'ì •ë§ë¡œ ì´ ìƒí’ˆì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?',
  confirmText: 'ì‚­ì œ',
  cancelText: 'ì·¨ì†Œ',
  confirmColor: Colors.red,
);

// âŒ ì˜ëª»ëœ ì‚¬ìš©
showDialog(
  context: context,
  builder: (context) => AlertDialog(...),
);
```

## SnackBar ì‚¬ìš© ê·œì¹™

- í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ìŠ¤ë‚µë°”ëŠ” `GbSnackBar`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- `ScaffoldMessenger.of(context).showSnackBar()`ì™€ `SnackBar`ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ë§ê³ , `GbSnackBar`ì˜ static ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
- `GbSnackBar`ëŠ” `lib/shared/widget/gb_snackbar.dart`ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.

### ì‚¬ìš© ì˜ˆì‹œ

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ì„±ê³µ ë©”ì‹œì§€
GbSnackBar.showSuccess(context, 'ìƒí’ˆì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤');

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ì—ëŸ¬ ë©”ì‹œì§€
GbSnackBar.showError(context, 'ìƒí’ˆ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ê²½ê³  ë©”ì‹œì§€
GbSnackBar.showWarning(context, 'ìµœì†Œ 1ì¥ì˜ ì´ë¯¸ì§€ë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”');

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ì •ë³´ ë©”ì‹œì§€
GbSnackBar.showInfo(context, 'ì´ë¯¸ì§€ëŠ” ìµœëŒ€ 10ì¥ê¹Œì§€ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤');

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ì»¤ìŠ¤í…€ íƒ€ì… ë° duration
GbSnackBar.show(
  context,
  'ë©”ì‹œì§€',
  type: GbSnackBarType.success,
  duration: const Duration(seconds: 3),
);

// âŒ ì˜ëª»ëœ ì‚¬ìš©
ScaffoldMessenger.of(context).showSnackBar(
  SnackBar(
    content: Text('ë©”ì‹œì§€'),
    backgroundColor: Colors.red,
  ),
);
```

### ìŠ¤ë‚µë°” íƒ€ì…

- `GbSnackBar.showSuccess()`: ì„±ê³µ ë©”ì‹œì§€ (ì´ˆë¡ìƒ‰, ì²´í¬ ì•„ì´ì½˜)
- `GbSnackBar.showError()`: ì—ëŸ¬ ë©”ì‹œì§€ (ë¹¨ê°„ìƒ‰, ì—ëŸ¬ ì•„ì´ì½˜, ê¸°ë³¸ 3ì´ˆ)
- `GbSnackBar.showWarning()`: ê²½ê³  ë©”ì‹œì§€ (ì£¼í™©ìƒ‰, ê²½ê³  ì•„ì´ì½˜)
- `GbSnackBar.showInfo()`: ì •ë³´ ë©”ì‹œì§€ (íŒŒë€ìƒ‰, ì •ë³´ ì•„ì´ì½˜)

## ErrorView ì‚¬ìš© ê·œì¹™

- í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì—ëŸ¬ ìƒíƒœ í‘œì‹œëŠ” `GbErrorView`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- ì—ëŸ¬ ì•„ì´ì½˜, ë©”ì‹œì§€, "ë‹¤ì‹œ ì‹œë„" ë²„íŠ¼ì„ ì§ì ‘ êµ¬ì„±í•˜ì§€ ë§ê³ , `GbErrorView` ìœ„ì ¯ì„ ì‚¬ìš©í•˜ì„¸ìš”.
- `GbErrorView`ëŠ” `lib/shared/widget/gb_error_view.dart`ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.

### ì‚¬ìš© ì˜ˆì‹œ

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ê¸°ë³¸ ì—ëŸ¬ ë·°
GbErrorView(
  message: 'ìƒí’ˆì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤',
  onRetry: () {
    ref.read(productNotifierProvider.notifier).loadProducts();
  },
)

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ì œëª©ê³¼ ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ í¬í•¨
GbErrorView(
  title: 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤',
  message: 'ìƒí’ˆì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤',
  onRetry: () {
    ref.read(productNotifierProvider.notifier).loadProduct(id);
  },
  showBackButton: true,
  onBack: () => context.pop(),
)

// âŒ ì˜ëª»ëœ ì‚¬ìš©
Center(
  child: Column(
    mainAxisAlignment: MainAxisAlignment.center,
    children: [
      Icon(Icons.error_outline, size: 64, color: Colors.red),
      Text('ì—ëŸ¬ ë©”ì‹œì§€'),
      ElevatedButton(
        onPressed: () {},
        child: Text('ë‹¤ì‹œ ì‹œë„'),
      ),
    ],
  ),
)
```

### GbErrorView íŒŒë¼ë¯¸í„°

- `message` (í•„ìˆ˜): ì—ëŸ¬ ë©”ì‹œì§€
- `onRetry` (í•„ìˆ˜): ë‹¤ì‹œ ì‹œë„ ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œë˜ëŠ” ì½œë°±
- `title` (ì„ íƒ): ì—ëŸ¬ ì œëª©
- `showBackButton` (ì„ íƒ, ê¸°ë³¸ê°’: false): ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€
- `onBack` (ì„ íƒ): ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œë˜ëŠ” ì½œë°± (showBackButtonì´ trueì¼ ë•Œ í•„ìˆ˜)
- `icon` (ì„ íƒ, ê¸°ë³¸ê°’: Icons.error_outline): ì—ëŸ¬ ì•„ì´ì½˜
- `iconSize` (ì„ íƒ, ê¸°ë³¸ê°’: 64): ì•„ì´ì½˜ í¬ê¸°
- `iconColor` (ì„ íƒ, ê¸°ë³¸ê°’: Colors.red): ì•„ì´ì½˜ ìƒ‰ìƒ

**ì°¸ê³ **: ì œëª©ê³¼ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ì€ í”„ë¡œì íŠ¸ ì „ë°˜ì—ì„œ í†µì¼ëœ ìŠ¤íƒ€ì¼ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- ì œëª©: `TextStyle(fontSize: 20, fontWeight: FontWeight.bold)`
- ë©”ì‹œì§€: `TextStyle(fontSize: 16, color: Colors.red)`

## TextFormField ì‚¬ìš© ê·œì¹™

- í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  TextFormFieldëŠ” `GbTextFormField`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- `TextFormField`ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ë§ê³ , `GbTextFormField` ìœ„ì ¯ì„ ì‚¬ìš©í•˜ì„¸ìš”.
- `GbTextFormField`ëŠ” `lib/shared/widget/gb_text_form_field.dart`ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.

### ì‚¬ìš© ì˜ˆì‹œ

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ê¸°ë³¸ ìŠ¤íƒ€ì¼ (login, product ìŠ¤íƒ€ì¼)
GbTextFormField(
  controller: _emailController,
  labelText: 'ì´ë©”ì¼',
  hintText: 'example@email.com',
  prefixIcon: const Icon(Icons.email_outlined),
  keyboardType: TextInputType.emailAddress,
  validator: (value) {
    if (value == null || value.isEmpty) {
      return 'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”';
    }
    return null;
  },
)

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - Filled ìŠ¤íƒ€ì¼ (signup ìŠ¤íƒ€ì¼)
GbTextFormField(
  controller: _nameController,
  hintText: 'ì‚¬ìš©í•  ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”',
  filled: true, // ì´ íŒŒë¼ë¯¸í„°ë¡œ filled ìŠ¤íƒ€ì¼ í™œì„±í™”
  validator: (value) {
    if (value == null || value.isEmpty) {
      return 'ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”';
    }
    return null;
  },
)

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ë¹„ë°€ë²ˆí˜¸ í•„ë“œ
GbTextFormField(
  controller: _passwordController,
  obscureText: !_isPasswordVisible,
  labelText: 'ë¹„ë°€ë²ˆí˜¸',
  hintText: 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”',
  prefixIcon: const Icon(Icons.lock_outlined),
  suffixIcon: IconButton(
    icon: Icon(_isPasswordVisible ? Icons.visibility : Icons.visibility_off),
    onPressed: () {
      setState(() {
        _isPasswordVisible = !_isPasswordVisible;
      });
    },
  ),
  validator: (value) {
    if (value == null || value.isEmpty) {
      return 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”';
    }
    return null;
  },
)

// âŒ ì˜ëª»ëœ ì‚¬ìš©
TextFormField(
  controller: _emailController,
  decoration: InputDecoration(
    labelText: 'ì´ë©”ì¼',
    border: OutlineInputBorder(),
  ),
)
```

### GbTextFormField íŒŒë¼ë¯¸í„°

- `controller` (ì„ íƒ): TextEditingController
- `labelText` (ì„ íƒ): ë¼ë²¨ í…ìŠ¤íŠ¸
- `hintText` (ì„ íƒ): íŒíŠ¸ í…ìŠ¤íŠ¸
- `prefixIcon` (ì„ íƒ): ì ‘ë‘ì‚¬ ì•„ì´ì½˜
- `suffixIcon` (ì„ íƒ): ì ‘ë¯¸ì‚¬ ì•„ì´ì½˜
- `suffixText` (ì„ íƒ): ì ‘ë¯¸ì‚¬ í…ìŠ¤íŠ¸
- `keyboardType` (ì„ íƒ): í‚¤ë³´ë“œ íƒ€ì…
- `obscureText` (ì„ íƒ, ê¸°ë³¸ê°’: false): ë¹„ë°€ë²ˆí˜¸ ëª¨ë“œ
- `maxLines` (ì„ íƒ, ê¸°ë³¸ê°’: 1): ìµœëŒ€ ë¼ì¸ ìˆ˜
- `validator` (ì„ íƒ): ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜
- `filled` (ì„ íƒ, ê¸°ë³¸ê°’: false): Filled ìŠ¤íƒ€ì¼ ì‚¬ìš© ì—¬ë¶€ (signup ìŠ¤íƒ€ì¼)
- `decoration` (ì„ íƒ): ì»¤ìŠ¤í…€ InputDecoration (ê¸°ë³¸ ìŠ¤íƒ€ì¼ì„ ë®ì–´ì”€)

**ì°¸ê³ **: 
- `filled: false` (ê¸°ë³¸ê°’): ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì‚¬ìš© (login, product ìŠ¤íƒ€ì¼)
- `filled: true`: Filled ìŠ¤íƒ€ì¼ ì‚¬ìš© (signup ìŠ¤íƒ€ì¼) - ìë™ìœ¼ë¡œ ìƒì„¸í•œ border ìŠ¤íƒ€ì¼ê³¼ contentPadding ì ìš©

## EmptyView ì‚¬ìš© ê·œì¹™

- í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë¹ˆ ìƒíƒœ í‘œì‹œëŠ” `GbEmptyView`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- ë¹ˆ ìƒíƒœ ì•„ì´ì½˜, ë©”ì‹œì§€ë¥¼ ì§ì ‘ êµ¬ì„±í•˜ì§€ ë§ê³ , `GbEmptyView` ìœ„ì ¯ì„ ì‚¬ìš©í•˜ì„¸ìš”.
- `GbEmptyView`ëŠ” `lib/shared/widget/gb_empty_view.dart`ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.

### ì‚¬ìš© ì˜ˆì‹œ

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ì•„ì´ì½˜ê³¼ ë©”ì‹œì§€
const GbEmptyView(
  icon: Icons.search,
  message: 'ìƒí’ˆì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”',
)

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ë©”ì‹œì§€ë§Œ (ì•„ì´ì½˜ ì—†ìŒ)
const GbEmptyView(
  message: 'ë“±ë¡ëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤',
)

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ì»¤ìŠ¤í…€ ì•„ì´ì½˜ ìƒ‰ìƒ
const GbEmptyView(
  icon: Icons.search_off,
  message: 'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤',
  iconSize: 64,
  iconColor: Colors.grey,
)

// âŒ ì˜ëª»ëœ ì‚¬ìš©
Center(
  child: Column(
    mainAxisAlignment: MainAxisAlignment.center,
    children: [
      Icon(Icons.search, size: 64, color: Colors.grey.shade300),
      const SizedBox(height: 16),
      Text('ìƒí’ˆì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”'),
    ],
  ),
)
```

### GbEmptyView íŒŒë¼ë¯¸í„°

- `message` (í•„ìˆ˜): ë¹ˆ ìƒíƒœ ë©”ì‹œì§€
- `icon` (ì„ íƒ): ë¹ˆ ìƒíƒœ ì•„ì´ì½˜ (ì—†ìœ¼ë©´ ì•„ì´ì½˜ í‘œì‹œ ì•ˆ í•¨)
- `iconSize` (ì„ íƒ, ê¸°ë³¸ê°’: 64): ì•„ì´ì½˜ í¬ê¸°
- `iconColor` (ì„ íƒ, ê¸°ë³¸ê°’: Colors.grey.shade300): ì•„ì´ì½˜ ìƒ‰ìƒ

**ì°¸ê³ **: ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ì€ í”„ë¡œì íŠ¸ ì „ë°˜ì—ì„œ í†µì¼ëœ ìŠ¤íƒ€ì¼ì„ ì‚¬ìš©í•©ë‹ˆë‹¤ (fontSize: 16, color: Color(0xFF9CA3AF)).

## LoadingView ì‚¬ìš© ê·œì¹™

- í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì „ì²´ í™”ë©´ ë¡œë”© í‘œì‹œëŠ” `GbLoadingView`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- `Center(child: CircularProgressIndicator())`ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ë§ê³ , `GbLoadingView` ìœ„ì ¯ì„ ì‚¬ìš©í•˜ì„¸ìš”.
- `GbLoadingView`ëŠ” `lib/shared/widget/gb_loading_view.dart`ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.

### ì‚¬ìš© ì˜ˆì‹œ

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ê¸°ë³¸ ë¡œë”© ë·°
const GbLoadingView()

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ë©”ì‹œì§€ê°€ ìˆëŠ” ë¡œë”© ë·°
const GbLoadingView(
  message: 'ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...',
)

// âŒ ì˜ëª»ëœ ì‚¬ìš©
Center(child: CircularProgressIndicator())
```

### GbLoadingView íŒŒë¼ë¯¸í„°

- `message` (ì„ íƒ): ë¡œë”© ë©”ì‹œì§€ (ì—†ìœ¼ë©´ CircularProgressIndicatorë§Œ í‘œì‹œ)

## State ë¶„ê¸° ì²˜ë¦¬ ë° Build í—¬í¼ ë©”ì„œë“œ ê·œì¹™

### ë¶ˆí•„ìš”í•œ State ë¶„ê¸° ì²˜ë¦¬ ê¸ˆì§€

ê°™ì€ Viewë¥¼ ì‚¬ìš©í•˜ëŠ” ì—¬ëŸ¬ ìƒíƒœëŠ” `||` íŒ¨í„´ìœ¼ë¡œ í†µí•©í•´ì•¼ í•©ë‹ˆë‹¤. ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” í•˜ìœ„ ìƒíƒœë“¤ì€ ë¶€ëª¨ í´ë˜ìŠ¤ë§Œ ë§¤ì¹­í•˜ë©´ ìë™ìœ¼ë¡œ ëª¨ë“  í•˜ìœ„ ìƒíƒœê°€ í¬í•¨ë©ë‹ˆë‹¤.

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - || íŒ¨í„´ìœ¼ë¡œ í†µí•©
switch (state) {
  ProductPaginatedLoaded(:final products, :final pagination, :final sortBy) ||
  ProductPaginatedLoadingMore(:final products, :final pagination, :final sortBy) =>
    HomeLoadedView(
      products: products,
      pagination: pagination,
      sortBy: sortBy,
      isLoadingMore: state is ProductPaginatedLoadingMore,
    ),
}

// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ë¶€ëª¨ í´ë˜ìŠ¤ë§Œ ë§¤ì¹­ (í•˜ìœ„ ìƒíƒœ ìë™ í¬í•¨)
switch (state) {
  ProfileLoaded(:final user) =>  // ProfileImageUploading, ProfileUpdating ë“± ëª¨ë“  í•˜ìœ„ ìƒíƒœ í¬í•¨
    ProfileLoadedView(user: user),
  UpdateProductLoaded() =>  // UpdateProductUploading, UpdateProductUpdating ë“± ëª¨ë“  í•˜ìœ„ ìƒíƒœ í¬í•¨
    ProductEditorForm(...),
}

// âŒ ì˜ëª»ëœ ì‚¬ìš© - ì¤‘ë³µëœ ë¶„ê¸° ì²˜ë¦¬
switch (state) {
  ProductPaginatedLoaded(...) => HomeLoadedView(...),
  ProductPaginatedLoadingMore(...) => HomeLoadedView(...),  // ì¤‘ë³µ!
}

// âŒ ì˜ëª»ëœ ì‚¬ìš© - ë¶ˆí•„ìš”í•˜ê²Œ ëª¨ë“  í•˜ìœ„ ìƒíƒœ ë‚˜ì—´
switch (state) {
  ProfileLoaded(:final user) ||
  ProfileImageUploading(:final user) ||
  ProfileImageUploadSuccess(:final user) ||  // ë¶ˆí•„ìš”! ë¶€ëª¨ í´ë˜ìŠ¤ë§Œìœ¼ë¡œ ì¶©ë¶„
  ProfileUpdating(:final user) =>
    ProfileLoadedView(user: user),
}
```

### Build í—¬í¼ ë©”ì„œë“œ ì‚¬ìš© ê¸ˆì§€

`_build` í—¬í¼ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ë§ê³ , ìœ„ì ¯ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

**í•µì‹¬ ì°¨ì´ì :**
- **`_build` í—¬í¼ ë©”ì„œë“œ**: ë§¤ë²ˆ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ìœ„ì ¯ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , `const` ìƒì„±ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ Flutterì˜ ìœ„ì ¯ íŠ¸ë¦¬ ìµœì í™”(Element ì¬ì‚¬ìš©)ë¥¼ ì œëŒ€ë¡œ í™œìš©í•  ìˆ˜ ì—†ìŒ
- **ìœ„ì ¯ í´ë˜ìŠ¤ ì§ì ‘ ì‚¬ìš©**: `const` ìƒì„±ìì™€ `key`ë¥¼ ì‚¬ìš©í•œ ìµœì í™”ê°€ ê°€ëŠ¥í•˜ê³ , Flutterê°€ Elementë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

**StatelessWidgetë„ `_build` í—¬í¼ë¡œ í˜¸ì¶œí•˜ë©´ ê°™ì€ ë¬¸ì œ ë°œìƒ:**
- StatelessWidget ìì²´ëŠ” ë¬¸ì œê°€ ì—†ì§€ë§Œ, `_build` í—¬í¼ ë©”ì„œë“œë¡œ StatelessWidgetì„ ë°˜í™˜í•˜ë©´ ì—¬ì „íˆ ë§¤ë²ˆ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë¨
- ë”°ë¼ì„œ StatelessWidgetë„ ì§ì ‘ ì‚¬ìš©í•´ì•¼ í•¨

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - ìœ„ì ¯ í´ë˜ìŠ¤ ì§ì ‘ ì‚¬ìš© (const ê°€ëŠ¥, keyë¡œ ìµœì í™” ê°€ëŠ¥)
switch (state) {
  ProfileLoaded(:final user) =>
    ProfileLoadedView(  // StatelessWidget ì§ì ‘ ì‚¬ìš©
      key: const ValueKey('profile_loaded'),  // keyë¡œ ìµœì í™”
      user: user,
      onLogout: _handleLogout,
      onEditProfile: _handleEditProfile,
    ),
}

// âŒ ì˜ëª»ëœ ì‚¬ìš© - _build í—¬í¼ ë©”ì„œë“œ ì‚¬ìš© (StatelessWidgetì´ì–´ë„ ë¬¸ì œ)
switch (state) {
  ProfileLoaded(:final user) => _buildProfileLoadedView(user),
}

Widget _buildProfileLoadedView(pod.User user) {  // âŒ ë§¤ë²ˆ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
  return ProfileLoadedView(  // StatelessWidgetì´ì–´ë„ _buildë¡œ í˜¸ì¶œí•˜ë©´ ìµœì í™” ë¶ˆê°€
    user: user,
    onLogout: _handleLogout,
    onEditProfile: _handleEditProfile,
  );
}
```

### ì˜ˆì™¸ ì‚¬í•­

**Switch ë¬¸ì„ í¬í•¨í•˜ëŠ” í—¬í¼ ë©”ì„œë“œë„ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.** bodyì—ì„œ ì§ì ‘ switch ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ íŒ¨í„´ì…ë‹ˆë‹¤.

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš© - bodyì—ì„œ ì§ì ‘ switch ì‚¬ìš© (ê¶Œì¥)
@override
Widget build(BuildContext context) {
  final state = ref.watch(someNotifierProvider);
  
  return Scaffold(
    body: switch (state) {
      Loading() => const GbLoadingView(),
      Error(:final message) => GbErrorView(...),
      Loaded(:final data) => LoadedView(data: data),
    },
  );
}

// âŒ ê¶Œì¥í•˜ì§€ ì•ŠìŒ - switch ë¬¸ì„ í¬í•¨í•˜ëŠ” í—¬í¼ ë©”ì„œë“œ
@override
Widget build(BuildContext context) {
  final state = ref.watch(someNotifierProvider);
  
  return Scaffold(
    body: _buildBody(state),  // í—¬í¼ ë©”ì„œë“œ ì‚¬ìš©
  );
}

Widget _buildBody(SomeState state) {
  return switch (state) {  // í—ˆìš©ë˜ì§€ë§Œ ê¶Œì¥í•˜ì§€ ì•ŠìŒ
    Loading() => const GbLoadingView(),
    Error(:final message) => GbErrorView(...),
    Loaded(:final data) => LoadedView(data: data),
  };
}
```

**ì´ìœ :**
- í”„ë¡œì íŠ¸ ì „ë°˜ì˜ ì¼ê´€ì„± ìœ ì§€ (ë‹¤ë¥¸ í™”ë©´ë“¤ë„ bodyì—ì„œ ì§ì ‘ switch ì‚¬ìš©)
- ì½”ë“œ ê°€ë…ì„± í–¥ìƒ (ìƒíƒœ ë¶„ê¸°ë¥¼ ë°”ë¡œ í™•ì¸ ê°€ëŠ¥)
- ë¶ˆí•„ìš”í•œ ë©”ì„œë“œ í˜¸ì¶œ ì œê±°

**ì‘ì€ UI ì¡°ê° í—¬í¼**: `_buildFAQItem`, `_buildInfoItem`, `_buildDivider` ë“± ì‘ì€ UI ì¡°ê°ì„ ë°˜í™˜í•˜ëŠ” ê²½ìš°
   - ë‹¨, ê°€ëŠ¥í•˜ë©´ StatelessWidgetìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì„ ê¶Œì¥ (ë” ë‚˜ì€ ìµœì í™”)
   ```dart
   // âœ… ê¶Œì¥ - StatelessWidgetìœ¼ë¡œ ë¶„ë¦¬ (const ê°€ëŠ¥, ìµœì í™” ê°€ëŠ¥)
   class InfoItemWidget extends StatelessWidget {
     final IconData icon;
     final String label;
     
     const InfoItemWidget({
       required this.icon,
       required this.label,
       super.key,
     });
     
     @override
     Widget build(BuildContext context) {
       return ListTile(
         leading: Icon(icon),
         title: Text(label),
       );
     }
   }
   
   // âš ï¸ í—ˆìš©ë˜ì§€ë§Œ ê¶Œì¥í•˜ì§€ ì•ŠìŒ - ì‘ì€ UI ì¡°ê° í—¬í¼
   Widget _buildInfoItem(IconData icon, String label) {
     return ListTile(
       leading: Icon(icon),
       title: Text(label),
     );
   }
   ```

### ìš”ì•½

- âœ… ê°™ì€ Viewë¥¼ ì‚¬ìš©í•˜ëŠ” ìƒíƒœëŠ” `||` íŒ¨í„´ìœ¼ë¡œ í†µí•©
- âœ… ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” í•˜ìœ„ ìƒíƒœëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ë§Œ ë§¤ì¹­
- âœ… ìœ„ì ¯ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ ì‚¬ìš© (const ìƒì„±ì, keyë¡œ ìµœì í™” ê°€ëŠ¥)
- âœ… bodyì—ì„œ ì§ì ‘ switch ë¬¸ ì‚¬ìš© (ì¼ê´€ì„±, ê°€ë…ì„± í–¥ìƒ)
- âŒ `_build` í—¬í¼ ë©”ì„œë“œ ì‚¬ìš© ê¸ˆì§€ (StatelessWidgetì´ì–´ë„ `_build`ë¡œ í˜¸ì¶œí•˜ë©´ ìµœì í™” ë¶ˆê°€)
- âŒ switch ë¬¸ì„ í¬í•¨í•˜ëŠ” í—¬í¼ ë©”ì„œë“œë„ ê¶Œì¥í•˜ì§€ ì•ŠìŒ (bodyì—ì„œ ì§ì ‘ switch ì‚¬ìš©)
- âŒ ë¶ˆí•„ìš”í•˜ê²Œ ëª¨ë“  í•˜ìœ„ ìƒíƒœ ë‚˜ì—´ ê¸ˆì§€
- ğŸ’¡ ì‘ì€ UI ì¡°ê°ë„ ê°€ëŠ¥í•˜ë©´ StatelessWidgetìœ¼ë¡œ ë¶„ë¦¬ ê¶Œì¥

## Clean Architecture íŒ¨í„´

í”„ë¡œì íŠ¸ëŠ” **Clean Architecture**ë¥¼ ì—„ê²©í•˜ê²Œ ë”°ë¦…ë‹ˆë‹¤. ëª¨ë“  API í˜¸ì¶œì€ ë‹¤ìŒ ë ˆì´ì–´ êµ¬ì¡°ë¥¼ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤:

### ë ˆì´ì–´ êµ¬ì¡°

```
Presentation (Provider/Notifier)
    â†“
Domain (UseCase)
    â†“
Domain (Repository Interface)
    â†‘
Data (Repository Implementation)
    â†“
Data (DataSource)
```

### 1. Data Layer (ë°ì´í„° ì†ŒìŠ¤)

**ìœ„ì¹˜**: `lib/feature/{feature}/data/`

- **DataSource**: Serverpod Clientë¥¼ ì‚¬ìš©í•œ API í˜¸ì¶œë§Œ ë‹´ë‹¹
  - íŒŒì¼: `datasource/{feature}_remote_datasource.dart`
  - Serverpod Client ì§ì ‘ í˜¸ì¶œ
  - Exceptionì„ throw (Either ì‚¬ìš© ì•ˆ í•¨)

```dart
// âœ… ì˜¬ë°”ë¥¸ DataSource
class ProductRemoteDataSource {
  pod.Client get _client => PodService.instance.client;
  
  Future<pod.Product> getProductDetail(int id) async {
    try {
      return await _client.product.getProduct(id);
    } catch (e) {
      throw Exception('ìƒí’ˆ ìƒì„¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: $e');
    }
  }
}

// âŒ ì˜ëª»ëœ ì‚¬ìš© - UseCaseë‚˜ Repositoryë¥¼ DataSourceì—ì„œ ì§ì ‘ í˜¸ì¶œ
```

- **Repository Implementation**: Domainì˜ Repository ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„
  - íŒŒì¼: `repository/{feature}_repository_impl.dart`
  - DataSourceë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  - Domainì˜ Repository ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

```dart
// âœ… ì˜¬ë°”ë¥¸ Repository Implementation
class ProductRepositoryImpl implements ProductRepository {
  final ProductRemoteDataSource remoteDataSource;
  
  @override
  Future<pod.Product> getProductDetail(int id) async {
    return remoteDataSource.getProductDetail(id);
  }
}
```

### 2. Domain Layer (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)

**ìœ„ì¹˜**: `lib/feature/{feature}/domain/`

- **Repository Interface**: ë°ì´í„° ì†ŒìŠ¤ ì¶”ìƒí™”
  - íŒŒì¼: `repository/{feature}_repository.dart`
  - ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ì •ì˜
  - ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ (ìˆœìˆ˜ Dart)

```dart
// âœ… ì˜¬ë°”ë¥¸ Repository Interface
abstract class ProductRepository {
  Future<pod.Product> getProductDetail(int id);
  Future<void> deleteProduct(int productId);
}
```

- **UseCase**: ë‹¨ì¼ ì±…ì„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
  - íŒŒì¼: `usecase/{action}_{feature}_usecase.dart`
  - Repository ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš© (êµ¬í˜„ì²´ê°€ ì•„ë‹˜)
  - `Either<Failure, T>` íŒ¨í„´ ì‚¬ìš©
  - `UseCase<T, Params, Repo>` ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

```dart
// âœ… ì˜¬ë°”ë¥¸ UseCase
class GetProductDetailUseCase
    implements UseCase<pod.Product, int, ProductRepository> {
  final ProductRepository repository;
  
  @override
  Future<Either<Failure, pod.Product>> call(int param) async {
    try {
      final result = await repository.getProductDetail(param);
      return Right(result);
    } on Exception catch (e) {
      return Left(GetProductDetailFailure('ìƒí’ˆì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', exception: e));
    }
  }
}

// âŒ ì˜ëª»ëœ ì‚¬ìš© - DataSourceë¥¼ ì§ì ‘ ì‚¬ìš©
class GetProductDetailUseCase {
  final ProductRemoteDataSource dataSource; // âŒ
}
```

### 3. Presentation Layer (UI)

**ìœ„ì¹˜**: `lib/feature/{feature}/presentation/`

- **Provider/Notifier**: Riverpod ìƒíƒœ ê´€ë¦¬
  - íŒŒì¼: `provider/{feature}_notifier.dart`
  - UseCaseë§Œ ì‚¬ìš© (Repositoryë‚˜ DataSource ì§ì ‘ ì‚¬ìš© ê¸ˆì§€)
  - `StateNotifier` ë˜ëŠ” `Notifier` ì‚¬ìš©

```dart
// âœ… ì˜¬ë°”ë¥¸ Notifier
class ProductDetailNotifier extends StateNotifier<ProductDetailState> {
  final GetProductDetailUseCase getProductDetailUseCase;
  
  Future<void> loadProductDetail(int productId) async {
    final result = await getProductDetailUseCase(productId);
    result.fold(
      (failure) => state = ProductDetailError(failure.message),
      (product) => state = ProductDetailLoaded(product),
    );
  }
}

// âŒ ì˜ëª»ëœ ì‚¬ìš© - Repositoryë‚˜ DataSource ì§ì ‘ ì‚¬ìš©
class ProductDetailNotifier {
  final ProductRepository repository; // âŒ
  final ProductRemoteDataSource dataSource; // âŒ
}
```

### ì˜ì¡´ì„± ê·œì¹™

1. **Presentation â†’ Domain**: Presentationì€ Domain(UseCase)ë§Œ ì˜ì¡´
2. **Data â†’ Domain**: DataëŠ” Domain(Repository Interface)ë¥¼ êµ¬í˜„
3. **Domain â†’ ì™¸ë¶€ ì—†ìŒ**: Domainì€ ì™¸ë¶€ ì˜ì¡´ì„±ì´ ì—†ì–´ì•¼ í•¨
4. **ì§ì ‘ í˜¸ì¶œ ê¸ˆì§€**: 
   - âŒ Presentationì—ì„œ Repositoryë‚˜ DataSource ì§ì ‘ ì‚¬ìš© ê¸ˆì§€
   - âŒ UseCaseì—ì„œ DataSource ì§ì ‘ ì‚¬ìš© ê¸ˆì§€
   - âŒ DataSourceì—ì„œ ë‹¤ë¥¸ DataSourceë‚˜ UseCase ì‚¬ìš© ê¸ˆì§€

### íŒŒì¼ êµ¬ì¡° ì˜ˆì‹œ

```
lib/feature/product/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ datasource/
â”‚   â”‚   â””â”€â”€ product_remote_datasource.dart  # Serverpod Client í˜¸ì¶œ
â”‚   â””â”€â”€ repository/
â”‚       â””â”€â”€ product_repository_impl.dart    # Repository ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â””â”€â”€ product_repository.dart         # Repository ì¸í„°í˜ì´ìŠ¤
â”‚   â””â”€â”€ usecase/
â”‚       â””â”€â”€ get_product_detail_usecase.dart # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â””â”€â”€ presentation/
    â”œâ”€â”€ page/
    â”‚   â””â”€â”€ product_detail_page.dart        # ë¼ìš°íŒ… ë‹¨ìœ„
    â”œâ”€â”€ view/
    â”‚   â””â”€â”€ product_detail_loaded_view.dart # ìƒíƒœë³„ UI
    â”œâ”€â”€ widget/
    â”‚   â””â”€â”€ product_card_widget.dart        # ì¬ì‚¬ìš© ìœ„ì ¯
    â””â”€â”€ provider/
        â””â”€â”€ product_detail_notifier.dart    # UseCase ì‚¬ìš©
```

### Provider ì„¤ì •

ëª¨ë“  ì˜ì¡´ì„±ì€ Riverpod Providerë¡œ ì£¼ì…ë©ë‹ˆë‹¤:

```dart
// âœ… ì˜¬ë°”ë¥¸ Provider êµ¬ì¡°
final productRemoteDataSourceProvider = Provider<ProductRemoteDataSource>((ref) {
  return const ProductRemoteDataSource();
});

final productRepositoryProvider = Provider<ProductRepository>((ref) {
  final remoteDataSource = ref.watch(productRemoteDataSourceProvider);
  return ProductRepositoryImpl(remoteDataSource);
});

final getProductDetailUseCaseProvider = Provider<GetProductDetailUseCase>((ref) {
  final repository = ref.watch(productRepositoryProvider);
  return GetProductDetailUseCase(repository);
});

final productDetailNotifierProvider = StateNotifierProvider<ProductDetailNotifier, ProductDetailState>((ref) {
  final getProductDetailUseCase = ref.watch(getProductDetailUseCaseProvider);
  return ProductDetailNotifier(getProductDetailUseCase);
});
```

### ìš”ì•½

- âœ… **DataSource**: Serverpod Client ì§ì ‘ í˜¸ì¶œ
- âœ… **Repository Implementation**: DataSource ì‚¬ìš©, Domain ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
- âœ… **Repository Interface**: Domainì— ì •ì˜, ì¶”ìƒ í´ë˜ìŠ¤
- âœ… **UseCase**: Repository ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©, Either íŒ¨í„´
- âœ… **Notifier**: UseCaseë§Œ ì‚¬ìš©, ìƒíƒœ ê´€ë¦¬
- âŒ **ë ˆì´ì–´ ê±´ë„ˆë›°ê¸° ê¸ˆì§€**: ê° ë ˆì´ì–´ëŠ” ë°”ë¡œ ì•„ë˜ ë ˆì´ì–´ë§Œ ì˜ì¡´

## Server Layer (Backend) êµ¬ì¡° ê·œì¹™

### Service í´ë˜ìŠ¤ í•¨ìˆ˜ ìˆœì„œ

Serverpodì˜ Service í´ë˜ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ í•¨ìˆ˜ë¥¼ ë°°ì¹˜í•©ë‹ˆë‹¤:

1. **Public Methods (Endpointì—ì„œ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë“¤)**
   - Endpointì—ì„œ ì§ì ‘ í˜¸ì¶œë˜ëŠ” public ë©”ì„œë“œë“¤ì„ ë¨¼ì € ë°°ì¹˜
   - ì˜ˆ: `createProduct`, `updateProduct`, `getProductById`, `getPaginatedProducts` ë“±

2. **Private Helper Methods (`_`ë¡œ ì‹œì‘í•˜ëŠ” í—¬í¼ í•¨ìˆ˜ë“¤)**
   - Public ë©”ì„œë“œì—ì„œ ì‚¬ìš©ë˜ëŠ” private í—¬í¼ ë©”ì„œë“œë“¤ì„ ë‚˜ì¤‘ì— ë°°ì¹˜
   - ì˜ˆ: `_buildPaginationResponse`, `_filterSoldProducts`, `_sortProducts` ë“±

### êµ¬ì¡° ì˜ˆì‹œ

```dart
class ProductService {
  // ==================== Public Methods (Endpointì—ì„œ ì§ì ‘ í˜¸ì¶œ) ====================
  
  /// ìƒí’ˆ ìƒì„±
  Future<Product> createProduct(...) { ... }
  
  /// ìƒí’ˆ ìˆ˜ì •
  Future<Product> updateProduct(...) { ... }
  
  /// í˜ì´ì§€ë„¤ì´ì…˜ëœ ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
  Future<PaginatedProductsResponseDto> getPaginatedProducts(...) { ... }
  
  // ==================== Private Helper Methods ====================
  
  /// í˜ì´ì§€ë„¤ì´ì…˜ ì‘ë‹µ ìƒì„±
  PaginatedProductsResponseDto _buildPaginationResponse(...) { ... }
  
  /// íŒë§¤ì™„ë£Œ ì œì™¸ í•„í„°ë§
  List<Product> _filterSoldProducts(...) { ... }
}
```

### í—¬í¼ í•¨ìˆ˜ ë¶„ë¦¬ ê¸°ì¤€

- **ê°™ì€ í´ë˜ìŠ¤ì— ë‘ê¸° (ê¶Œì¥)**: 
  - í•œ í´ë˜ìŠ¤ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” í—¬í¼ í•¨ìˆ˜
  - í´ë˜ìŠ¤ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë°€ì ‘í•˜ê²Œ ì—°ê´€ëœ í—¬í¼
  - í´ë˜ìŠ¤ í¬ê¸°ê°€ ì ë‹¹í•  ë•Œ (1000ì¤„ ì´í•˜)
  
- **ë³„ë„ íŒŒì¼ë¡œ ë¶„ë¦¬**:
  - ì—¬ëŸ¬ í´ë˜ìŠ¤ì—ì„œ ì¬ì‚¬ìš©ë˜ëŠ” í—¬í¼ í•¨ìˆ˜
  - ë…ë¦½ì ì¸ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
  - í´ë˜ìŠ¤ê°€ ë„ˆë¬´ ì»¤ì§ˆ ë•Œ (1000ì¤„ ì´ìƒ)

### ìš”ì•½

- âœ… Public ë©”ì„œë“œë¥¼ ë¨¼ì € ë°°ì¹˜
- âœ… Private í—¬í¼ ë©”ì„œë“œë¥¼ ë‚˜ì¤‘ì— ë°°ì¹˜
- âœ… ì„¹ì…˜ êµ¬ë¶„ ì£¼ì„ ì‚¬ìš© (`// ==================== ... ====================`)
- âœ… í•œ í´ë˜ìŠ¤ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” í—¬í¼ëŠ” ê°™ì€ í´ë˜ìŠ¤ì— ìœ ì§€
- âœ… ì—¬ëŸ¬ í´ë˜ìŠ¤ì—ì„œ ì¬ì‚¬ìš©ë˜ëŠ” í—¬í¼ëŠ” ë³„ë„ ìœ í‹¸ íŒŒì¼ë¡œ ë¶„ë¦¬

## Presentation Layer (Notifier) êµ¬ì¡° ê·œì¹™

### Notifier í´ë˜ìŠ¤ í•¨ìˆ˜ ìˆœì„œ

Riverpodì˜ Notifier í´ë˜ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ í•¨ìˆ˜ë¥¼ ë°°ì¹˜í•©ë‹ˆë‹¤:

1. **Public Methods (UseCase í˜¸ì¶œ)**
   - UseCaseë¥¼ í˜¸ì¶œí•˜ëŠ” public ë©”ì„œë“œë“¤ì„ ë¨¼ì € ë°°ì¹˜
   - ì˜ˆ: `loadProductDetail`, `searchProducts`, `loadMoreProducts`, `createProduct` ë“±

2. **Public Methods (Service í˜¸ì¶œ)**
   - Serviceë¥¼ í˜¸ì¶œí•˜ëŠ” public ë©”ì„œë“œë“¤ì„ ë‘ ë²ˆì§¸ë¡œ ë°°ì¹˜
   - ì˜ˆ: `getRecentSearches`, `clearSearch`, `deleteRecentSearch` ë“±

3. **Private Helper Methods (`_`ë¡œ ì‹œì‘í•˜ëŠ” í—¬í¼ í•¨ìˆ˜ë“¤)**
   - ë‚´ë¶€ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” private í—¬í¼ ë©”ì„œë“œë“¤ì„ ë§ˆì§€ë§‰ì— ë°°ì¹˜
   - ì˜ˆ: `_loadRecentSearches`, `_removeProduct`, `_updateProduct`, `_refreshStats` ë“±

### êµ¬ì¡° ì˜ˆì‹œ

```dart
class SearchNotifier extends StateNotifier<SearchState> {
  // ìƒì„±ì, í•„ë“œ ì„ ì–¸...

  // ==================== Public Methods (UseCase í˜¸ì¶œ) ====================
  
  /// ìƒí’ˆ ê²€ìƒ‰ (ì²« í˜ì´ì§€)
  Future<void> searchProducts(String query, {pod.ProductSortBy? sortBy}) async {
    final result = await searchProductsUseCase(...);
    // ...
  }
  
  /// ê²€ìƒ‰ ê²°ê³¼ ë” ë¶ˆëŸ¬ì˜¤ê¸°
  Future<void> loadMoreProducts() async {
    final result = await searchProductsUseCase(...);
    // ...
  }
  
  // ==================== Public Methods (Service í˜¸ì¶œ) ====================
  
  /// ìµœê·¼ ê²€ìƒ‰ì–´ ê°€ì ¸ì˜¤ê¸°
  Future<List<String>> getRecentSearches() async {
    return _recentSearchService.getRecentSearches();
  }
  
  /// ê²€ìƒ‰ ì´ˆê¸°í™”
  Future<void> clearSearch() async {
    await _loadRecentSearches();
  }
  
  // ==================== Private Helper Methods ====================
  
  /// ìµœê·¼ ê²€ìƒ‰ì–´ ë¡œë“œ
  Future<void> _loadRecentSearches() async {
    // ...
  }
  
  /// ëª©ë¡ì—ì„œ ìƒí’ˆ ì œê±°
  void _removeProduct(int productId) {
    // ...
  }
}
```

### êµ¬ë¶„ ê¸°ì¤€

- **UseCase í˜¸ì¶œ**: Domain ë ˆì´ì–´ì˜ UseCaseë¥¼ í˜¸ì¶œí•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì„œë“œ
- **Service í˜¸ì¶œ**: ê³µí†µ Service (ì˜ˆ: `RecentSearchService`, `LocalStorageService` ë“±)ë¥¼ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œ
- **Private Helper**: ë‚´ë¶€ ìƒíƒœ ê´€ë¦¬ë‚˜ ë¡œì§ ì²˜ë¦¬ë¥¼ ìœ„í•œ private ë©”ì„œë“œ

### ìš”ì•½

- âœ… UseCase í˜¸ì¶œ ë©”ì„œë“œë¥¼ ë¨¼ì € ë°°ì¹˜
- âœ… Service í˜¸ì¶œ ë©”ì„œë“œë¥¼ ë‘ ë²ˆì§¸ë¡œ ë°°ì¹˜
- âœ… Private í—¬í¼ ë©”ì„œë“œë¥¼ ë§ˆì§€ë§‰ì— ë°°ì¹˜
- âœ… ì„¹ì…˜ êµ¬ë¶„ ì£¼ì„ ì‚¬ìš© (`// ==================== ... ====================`)

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ… & ê°œì„ ì‚¬í•­ ë¬¸ì„œí™” ê·œì¹™

### ë¬¸ì„œ ìœ„ì¹˜

íŠ¸ëŸ¬ë¸”ìŠˆíŒ…, ê°œì„ ì‚¬í•­, ì˜ ì§  ì½”ë“œëŠ” ë‹¤ìŒ ë¬¸ì„œì— ê¸°ë¡í•©ë‹ˆë‹¤:
- **íŒŒì¼**: `gear_freak_flutter/docs/TROUBLESHOOTING_AND_IMPROVEMENTS.md`

### ë¬¸ì„œí™” ëŒ€ìƒ

ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš° ë°˜ë“œì‹œ ë¬¸ì„œì— ê¸°ë¡í•´ì•¼ í•©ë‹ˆë‹¤:

1. **íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**
   - ë²„ê·¸ í•´ê²° ê³¼ì •
   - ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œ í•´ê²°
   - ì„±ëŠ¥ ì´ìŠˆ í•´ê²°
   - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ í•´ê²°
   - ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬ ê°œì„ 

2. **ê°œì„ ì‚¬í•­**
   - ì½”ë“œ ë¦¬íŒ©í† ë§
   - UI/UX ê°œì„ 
   - ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ 
   - ë¡œê¹… ì‹œìŠ¤í…œ ê°œì„ 
   - ì•„í‚¤í…ì²˜ ê°œì„ 

3. **ì˜ ì§  ì½”ë“œ**
   - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ íŒ¨í„´
   - ìš°ì•„í•œ í•´ê²° ë°©ë²•
   - ì„±ëŠ¥ ìµœì í™” ê¸°ë²•
   - ë””ìì¸ íŒ¨í„´ ì ìš©
   - ê³µí†µí™”ëœ ë¡œì§ (Mixin, Utility ë“±)

4. **ë‚œì´ë„ê°€ ìˆëŠ” ì‘ì—…**
   - ë³µì¡í•œ ë¡œì§ êµ¬í˜„
   - ì–´ë ¤ìš´ ë¬¸ì œ í•´ê²°
   - íŠ¹ë³„í•œ ê¸°ìˆ  ì ìš©

### ë¬¸ì„œ ì‘ì„± ê·œì¹™

#### 1. ì„¹ì…˜ êµ¬ì¡°

```markdown
## N. [ì œëª©]

### ğŸ“Œ ê°œìš”
- ê°„ë‹¨í•œ ì„¤ëª… (1-2ë¬¸ì¥)

### âŒ ë¬¸ì œ ìƒí™©
- ë¬¸ì œê°€ ë°œìƒí•œ ë°°ê²½
- ê¸°ì¡´ ì½”ë“œ ì˜ˆì‹œ (ë‚˜ìœ ì˜ˆ)
- ë¬¸ì œì  ë‚˜ì—´

### âœ… í•´ê²° ë°©ë²•
- í•´ê²° ë°©ë²• ì„¤ëª…
- ê°œì„ ëœ ì½”ë“œ ì˜ˆì‹œ (ì¢‹ì€ ì˜ˆ)

### ğŸ”§ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­
- ìƒì„¸ êµ¬í˜„ ë‚´ìš©
- ì½”ë“œ ì˜ˆì‹œ

### âœ… ì¥ì 
- ê°œì„ ìœ¼ë¡œ ì¸í•œ ì´ì ë“¤

### âš ï¸ ì£¼ì˜ì‚¬í•­
- ì£¼ì˜í•´ì•¼ í•  ì ë“¤

### ğŸ“ ì‚¬ìš© ì‚¬ë¡€
- ì‹¤ì œ ì ìš©ëœ ê³³
```

#### 2. ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜

- **íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**: ë²„ê·¸ë‚˜ ë¬¸ì œë¥¼ í•´ê²°í•œ ê²½ìš°
- **ê°œì„ ì‚¬í•­**: ê¸°ì¡´ ì½”ë“œë¥¼ ê°œì„ í•œ ê²½ìš°
- **ì˜ ì§  ì½”ë“œ**: ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê±°ë‚˜ íŒ¨í„´ì´ ì¢‹ì€ ì½”ë“œ
- **ì„±ëŠ¥ ìµœì í™”**: ì„±ëŠ¥ ê´€ë ¨ ê°œì„ 
- **ì•„í‚¤í…ì²˜**: ì•„í‚¤í…ì²˜ ê´€ë ¨ ê°œì„ 

#### 3. ì½”ë“œ ì˜ˆì‹œ ì‘ì„± ê·œì¹™

- **ë‚˜ìœ ì˜ˆ (âŒ)**: ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œ
- **ì¢‹ì€ ì˜ˆ (âœ…)**: ê°œì„ ëœ ì½”ë“œ
- ì½”ë“œ ë¸”ë¡ì—ëŠ” ì–¸ì–´ ëª…ì‹œ (`dart`, `yaml` ë“±)
- ì¤‘ìš”í•œ ë¶€ë¶„ì€ ì£¼ì„ìœ¼ë¡œ í‘œì‹œ

#### 4. ì´ëª¨ì§€ ì‚¬ìš©

- ğŸ“Œ ê°œìš”
- âŒ ë¬¸ì œ ìƒí™©
- âœ… í•´ê²° ë°©ë²• / ì¥ì 
- ğŸ”§ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­
- âš ï¸ ì£¼ì˜ì‚¬í•­
- ğŸ“ ì‚¬ìš© ì‚¬ë¡€
- ğŸ› ë²„ê·¸
- ğŸš€ ì„±ëŠ¥
- ğŸ¨ UI/UX
- ğŸ”’ ë³´ì•ˆ

#### 5. íŒŒì¼ ìœ„ì¹˜

- ê´€ë ¨ íŒŒì¼ ê²½ë¡œ ëª…ì‹œ
- ì˜ˆ: `gear_freak_flutter/lib/feature/product/presentation/provider/product_notifier.dart`

### ë¬¸ì„œ ì—…ë°ì´íŠ¸ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ì„¹ì…˜ ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥¸ê°€? (ê¸°ì¡´ ì„¹ì…˜ ë²ˆí˜¸ í™•ì¸)
- [ ] ëª©ì°¨ì— ìƒˆ ì„¹ì…˜ì´ ì¶”ê°€ë˜ì—ˆëŠ”ê°€?
- [ ] ì½”ë“œ ì˜ˆì‹œê°€ ì˜¬ë°”ë¥´ê²Œ í¬ë§·íŒ…ë˜ì—ˆëŠ”ê°€?
- [ ] ê´€ë ¨ íŒŒì¼ ê²½ë¡œê°€ ëª…ì‹œë˜ì—ˆëŠ”ê°€?
- [ ] ì´ëª¨ì§€ê°€ ì ì ˆíˆ ì‚¬ìš©ë˜ì—ˆëŠ”ê°€?
- [ ] ì£¼ì˜ì‚¬í•­ì´ ëª…ì‹œë˜ì—ˆëŠ”ê°€?

### ì‘ì„± íŒ

1. **êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±**: ì¶”ìƒì ì¸ ì„¤ëª…ë³´ë‹¤ëŠ” êµ¬ì²´ì ì¸ ì½”ë“œ ì˜ˆì‹œì™€ í•¨ê»˜
2. **ë¬¸ì œì™€ í•´ê²°ì„ ëª…í™•íˆ**: ë¬¸ì œ ìƒí™©ê³¼ í•´ê²° ë°©ë²•ì„ ëª…í™•íˆ êµ¬ë¶„
3. **ì¬í˜„ ê°€ëŠ¥í•˜ê²Œ**: ë‹¤ë¥¸ ê°œë°œìê°€ ì´í•´í•˜ê³  ì ìš©í•  ìˆ˜ ìˆë„ë¡
4. **ì¥ë‹¨ì  ëª…ì‹œ**: ê°œì„ ì‚¬í•­ì˜ ì¥ì ê³¼ ì£¼ì˜ì‚¬í•­ì„ ëª¨ë‘ ëª…ì‹œ
5. **ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€**: ì‹¤ì œë¡œ ì–´ë””ì— ì ìš©ë˜ì—ˆëŠ”ì§€ ëª…ì‹œ

### ì˜ˆì‹œ

```markdown
## 7. ìƒˆë¡œìš´ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì˜ˆì‹œ

### ğŸ“Œ ê°œìš”

**ë¬¸ì œ**: íŠ¹ì • ìƒí™©ì—ì„œ ì•±ì´ í¬ë˜ì‹œë˜ëŠ” í˜„ìƒ

### âŒ ë¬¸ì œ ìƒí™©

ê¸°ì¡´ ì½”ë“œì—ì„œ null ì²´í¬ê°€ ëˆ„ë½ë˜ì–´ í¬ë˜ì‹œ ë°œìƒ:

```dart
// âŒ ë‚˜ìœ ì˜ˆ
final product = products.first; // productsê°€ ë¹„ì–´ìˆìœ¼ë©´ ì—ëŸ¬
```

### âœ… í•´ê²° ë°©ë²•

null ì²´í¬ ë° ì•ˆì „í•œ ì ‘ê·¼ ë°©ì‹ ì ìš©:

```dart
// âœ… ì¢‹ì€ ì˜ˆ
if (products.isNotEmpty) {
  final product = products.first;
  // ...
}
```

### ğŸ”§ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

- `gear_freak_flutter/lib/feature/product/presentation/page/product_list_page.dart`
- ì•ˆì „í•œ ë¦¬ìŠ¤íŠ¸ ì ‘ê·¼ íŒ¨í„´ ì ìš©

### âœ… ì¥ì 

- í¬ë˜ì‹œ ë°©ì§€
- ì•ˆì •ì„± í–¥ìƒ

### âš ï¸ ì£¼ì˜ì‚¬í•­

- ëª¨ë“  ë¦¬ìŠ¤íŠ¸ ì ‘ê·¼ ì‹œ null ì²´í¬ í•„ìš”
```

### ìš”ì•½

- âœ… íŠ¸ëŸ¬ë¸”ìŠˆíŒ…, ê°œì„ ì‚¬í•­, ì˜ ì§  ì½”ë“œëŠ” ë°˜ë“œì‹œ ë¬¸ì„œí™”
- âœ… `TROUBLESHOOTING_AND_IMPROVEMENTS.md` íŒŒì¼ì— ê¸°ë¡
- âœ… ì„¹ì…˜ êµ¬ì¡°ì™€ ì´ëª¨ì§€ë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©
- âœ… ì½”ë“œ ì˜ˆì‹œì™€ íŒŒì¼ ê²½ë¡œ ëª…ì‹œ
- âœ… ë¬¸ì œ ìƒí™©ê³¼ í•´ê²° ë°©ë²•ì„ ëª…í™•íˆ êµ¬ë¶„
